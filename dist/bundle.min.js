document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll("img").forEach((img=>{img.setAttribute("loading","lazy")}));document.querySelectorAll("video").forEach((video=>{video.setAttribute("loading","lazy")}))}));document.querySelectorAll(".toggle").forEach((link=>{link.addEventListener("click",(()=>{link.classList.toggle("toggled")}))}));document.querySelectorAll(".toggle-content").forEach((link=>{link.addEventListener("click",(()=>{var id=link.id;var nestLevel=Array.from(link.closest("ul").classList).find((c=>c.startsWith("nest-level-")));const listItem=link.parentNode;const page=`content/${id}.html`;const contentDiv=document.getElementById(`${id}-content`);if(!contentDiv){const newContentDiv=document.createElement("div");newContentDiv.id=`${id}-content`;newContentDiv.className=`content-container ${nestLevel}`;listItem.appendChild(newContentDiv);fetch(page).then((response=>response.text())).then((html=>{newContentDiv.innerHTML=html})).catch((error=>console.error("Error fetching content:",error)))}else{if(contentDiv.innerHTML.trim()!==""){contentDiv.innerHTML=""}listItem.removeChild(contentDiv)}}))}));document.querySelectorAll(".toggle-dropdown").forEach((toggler=>{toggler.addEventListener("click",(function(){this.parentElement.querySelector(".nested").classList.toggle("active")}))}));var audio=document.getElementById("radio");let currentSongIndex=0;document.getElementById("toggle-radio").addEventListener("click",(()=>{if(audio.paused){playMusic()}else{stopMusic()}}));function playMusic(){songName=playlist[currentSongIndex];audio.src=`assets/music/${songName}.mp3`;audio.play();document.getElementById("song-name").textContent=songName}function stopMusic(){audio.pause();currentSongIndex=(currentSongIndex+1)%playlist.length}audio.addEventListener("ended",(()=>{currentSongIndex=(currentSongIndex+1)%playlist.length;playMusic()}));var isRainbowMode=false;let rainbowAnimationFrameId;function updateColor(){const time=performance.now();const frequency=5e-4;const amplitude=127;const red=Math.sin(frequency*time+0)*amplitude+128;const green=Math.sin(frequency*time+2)*amplitude+128;const blue=Math.sin(frequency*time+4)*amplitude+128;const color=Math.floor(red)<<16|Math.floor(green)<<8|Math.floor(blue);vantaBackground.setOptions({color:color});rainbowAnimationFrameId=requestAnimationFrame(updateColor)}const heading=document.querySelector("h1");heading.addEventListener("click",(function(){isRainbowMode=!isRainbowMode;if(isRainbowMode){updateColor()}else{cancelAnimationFrame(rainbowAnimationFrameId);vantaBackground.setOptions({color:2040879})}}));const defaultMode={name:"default",title:"antonchen.ca",greeting:"Anton Chen",copyright:"© 2001 Anton Chen",songs:["No Love In The House Of Gold - heavy machinery (oil rig)","Infinity Frequencies - Memory limitations in artificial intelligence","Other Nothing - Ww","Izzard - Dec 9","Willix, hiraeth - Silence, I'm Sinking.","Hisohkah, WMD - School Rooftop - Slowed Down Version","Sangam - One","Wishing - Goodnight Dad I Love You"]};const darkMode={name:"network",title:"Anton Chen",greeting:"Hi! 👋",copyright:"© 2024 | Designed && programmed by yours truly 🧑‍💻",songs:["Sleepy Fish - let girls play soccer","Birocratic - Belly Breathing","Team Astro - Love Lockdown"]};function shuffleArray(array){return array.slice().sort((()=>Math.random()-.5))}defaultMode.songs=shuffleArray(defaultMode.songs);darkMode.songs=shuffleArray(darkMode.songs);var isDarkmode=false;let vantaBackground=null;let typed=null;let playlist=(isDarkmode?darkMode:defaultMode).songs;var audio=document.getElementById("radio");document.getElementById("toggle-theme").checked=false;const checkbox=document.getElementById("toggle-theme");checkbox.addEventListener("change",(()=>{document.body.classList.remove((isDarkmode?darkMode:defaultMode).name);isDarkmode=!isDarkmode;let mode=isDarkmode?darkMode:defaultMode;document.body.classList.add(mode.name);document.title=mode.title;document.getElementById("greeting").textContent=mode.greeting;document.getElementById("copyright").textContent=mode.copyright;playlist=(isDarkmode?darkMode:defaultMode).songs;var paused=audio.paused;if(checkbox.checked){vantaBackground=VANTA.NET({el:"#vanta-container",mouseControls:false,touchControls:false,gyroControls:false,minHeight:200,minWidth:200,scale:1,scaleMobile:1,color:2040879,backgroundColor:1119519,points:12,maxDistance:24,spacing:16});typed=new Typed("#typewriter",{strings:["I'm anto","I'm Anton!^200 Nice too","I'm Anton! Nice to meet you! :)^5000","I'm Anton! Nice to meet you! :P^1000","I'm Anton! Nice to meet you! :)"],typeSpeed:30,startDelay:500,backDelay:100,smartBackspace:true})}else{vantaBackground.destroy();typed.destroy()}stopMusic();if(!paused){playMusic()}}));